** 시나리오 최종 코드 : iot_project.ino

## Board2(Arduino Mega)의 역할
---
* 서버와 Serial 통신을 이용하여 물류 분류에 필요한 데이터 교환
* 보드에 연결된 conveyor, servo motor, TCRT 5000(근접 거리센서)를 사용하여 물류 분류 처리
* 긴급한 상황시 작업자에게 상해를 입힐 수 있는 물리적 하드웨어 구동 정지

## Arduino 폴더 코드에 기여한 팀원과 역할
---
|구분|이름|역할|
|-----|-----|-----|
|팀원|김보선|HW(conveyor, servo motor, TCRT 5000 등) 구동 테스트, 유지 보수 및 예외처리|
|팀원|정다연|물류 분류 시퀀스 구현, 유지 보수 및 예외처리|

## 기술 스택
---
### 개발 환경
![image](https://github.com/dyjung-dev/Amr_iot/assets/137265648/74c37ecb-4ead-4fe1-8456-82cbed157830)
### 언어
![image](https://github.com/dyjung-dev/Amr_iot/assets/137265648/4a5da719-ac94-42a6-88f5-0050b9ead030)


## 물류 분류 시퀀스
---
* (수동) 작업자가 conveyor 위로 물류 오려 놓음
* 바코드 인식후, TCP/IP 통신을 이용하여 데이터 전송 -> #B1@BARCODE,AA0011@STATE,0#
* 통신을 통해 받은 데이터를 DB에 업데이트한 후, 허브 정보를 Serial 통신을 이용해 전송 -> #S@HUB,01#
  * 허브 번호 존재(1,2,3)
    * 전송받은 데이터를 기준으로 서보모터가 동작
    * 허브 슬라이드를 탈 수 있도록 서보모터의 각도를 바꿔줌
    * 컨베이어가 작동하며 물류를 전송
    * 물류가 허브 슬라이드 앞에 도착하면 근접 거리 센서가 인식
    * 서보모터에 달린 후크를 이용해 물류 슬라이드로 이동
    * 컨베이어 가동 정지
  * 허브 번호 존재 x
    * 컨베이어 끝에 있는 박스로 이동할 수 있도록 컨베이어 구동
    * 물류가 컨베이어 끝을 지나가면 근접 거리 센서가 인식
    * 근접 거리 센서가 인식된 후, 정해진 시간만큼 대기 후 컨베이어 가동 정지
* 물류 처리 결과를 서버로 전송 -> #B2@STATEDONE#
* 서버에서 물류 처리 결과에 따라 DB 업데이트
 

